# Story 1.1: Setup Dependencies and shadcn/ui

<!-- Powered by BMADâ„¢ Core -->

## Status

**ready for development**

---

## Story

**As a** Frontend Developer,
**I want** to install and configure shadcn/ui, Zod, and required UI dependencies,
**so that** the project has the foundational libraries needed to build type-safe, accessible UI components for the OrchestratAI application.

---

## Acceptance Criteria

1. Zod library (v3.23+) installed and verified in package.json
2. Lucide React icons library installed and verified in package.json
3. shadcn/ui CLI successfully initialized with proper configuration
4. Core shadcn/ui components installed: button, card, input, badge, scroll-area, separator, collapsible
5. shadcn/ui components directory created at `orchestratai_client/src/components/ui/`
6. components.json configuration file created with correct import paths
7. All dependencies installed using Bun (not npm or yarn)
8. No installation errors or peer dependency conflicts
9. TypeScript compilation succeeds after installation
10. Development server starts successfully with new dependencies

---

## Tasks / Subtasks

- [ ] **Task 1: Install Zod and Lucide Icons** (AC: 1, 2)
  - [ ] Navigate to `orchestratai_client/` directory
  - [ ] Run `bun add zod` to install Zod validation library
  - [ ] Run `bun add lucide-react` to install icon library
  - [ ] Run `bun add -d @types/node` to ensure Node type definitions
  - [ ] Verify installations in package.json show correct versions (Zod 3.23+)

- [ ] **Task 2: Initialize shadcn/ui** (AC: 3, 6)
  - [ ] Run `bunx shadcn@latest init` from `orchestratai_client/` directory
  - [ ] Answer prompts with configuration:
    - TypeScript: Yes
    - Style: Default
    - Base color: Slate
    - CSS variables: Yes
    - React Server Components: Yes
    - Import alias: `@/components` and `@/lib`
  - [ ] Verify `components.json` created with correct settings
  - [ ] Verify import aliases match project structure from source-tree.md

- [ ] **Task 3: Install Core shadcn/ui Components** (AC: 4, 5)
  - [ ] Run `bunx shadcn@latest add button card input badge scroll-area separator collapsible`
  - [ ] Verify all 7 components created in `orchestratai_client/src/components/ui/`
  - [ ] Verify each component file imports from correct paths
  - [ ] Check that components use `@/lib/utils` for className merging

- [ ] **Task 4: Validate Installation** (AC: 8, 9, 10)
  - [ ] Run `bun install` to ensure lock file updated
  - [ ] Run TypeScript compilation: `bun run type-check` or `bunx tsc --noEmit`
  - [ ] Start development server: `docker compose up` (or local `bun dev` if testing)
  - [ ] Verify no console errors on http://localhost:3000
  - [ ] Verify no peer dependency warnings in terminal

---

## Dev Notes

### Tech Stack Context
[Source: architecture/3-tech-stack.md]

**Package Manager:**
- **CRITICAL:** Use Bun 1.1+ for ALL frontend dependency operations
- NEVER use npm or yarn commands
- Bun provides 10x faster installation and native TypeScript support

**Key Dependencies Being Installed:**
- **shadcn/ui v3.5.0**: Accessible component primitives based on Radix UI, copy-paste approach, Tailwind compatible
- **Zod v3.23+**: Schema validation with type inference, runtime safety, API contract validation
- **Lucide React (latest)**: Icon library consistent with shadcn/ui, tree-shakeable, modern design
- **@types/node**: TypeScript definitions for Node.js APIs

### Project Structure Context
[Source: architecture/source-tree.md]

**Component Location:**
- shadcn/ui components will be installed to: `orchestratai_client/src/components/ui/`
- This follows the standard shadcn pattern and project structure

**Import Aliases:**
```typescript
import { Button } from '@/components/ui';      // UI components
import { apiClient } from '@/lib/api-client';  // Utilities
```

**File Naming Convention:**
- React Components: PascalCase (e.g., `Button.tsx`, `Card.tsx`)
- TypeScript Utilities: kebab-case (e.g., `api-client.ts`)

### shadcn/ui Configuration
[Source: Epic 1 Requirements]

The shadcn/ui initialization creates `components.json` which defines:
- Import aliases for components and utilities
- Component installation directory
- Tailwind CSS configuration path
- TypeScript configuration

**Expected components.json structure:**
```json
{
  "$schema": "https://ui.shadcn.com/schema.json",
  "style": "default",
  "rsc": true,
  "tsx": true,
  "tailwind": {
    "config": "tailwind.config.ts",
    "css": "src/app/globals.css",
    "baseColor": "slate",
    "cssVariables": true
  },
  "aliases": {
    "components": "@/components",
    "utils": "@/lib/utils"
  }
}
```

### Components Being Installed
[Source: Epic 1, Section 3.3]

These 7 core components will be used throughout the application:

1. **Button**: Primary, secondary, ghost variants for actions
2. **Card**: For agent cards and log entries
3. **Input**: For message input field
4. **Badge**: For agent status indicators and strategy labels
5. **ScrollArea**: For message list and log scrolling
6. **Separator**: For panel dividers
7. **Collapsible**: For panel collapse functionality (used in later stories)

### Critical Installation Notes

**Docker Context:**
- If installing inside Docker container, ensure proper volume mounts
- Node modules should persist between container restarts
- Verify `orchestratai_client/node_modules` is properly mounted

**Tailwind v4 Compatibility:**
- shadcn/ui v3.5.0+ is compatible with Tailwind CSS v4
- Components will use CSS variables defined in `globals.css` (configured in later stories)

**TypeScript Strict Mode:**
- Project uses TypeScript 5.6+ with strict mode enabled
- All shadcn components are fully typed
- Expect type inference to work correctly with installed components

### Testing

[Source: architecture/15-testing-strategy.md]

**For this story, testing requirements are:**
- **Manual verification only** - no unit tests required for dependency installation
- Verify TypeScript compilation succeeds (no type errors)
- Verify development server starts without errors
- Future component tests will use Vitest with this pattern:

```typescript
describe('ComponentName', () => {
  it('renders without errors', () => {
    render(<ComponentName />);
    expect(screen.getByRole('...')).toBeInTheDocument();
  });
});
```

**Test Framework:** Vitest (already configured)
**Test Location Pattern:** `orchestratai_client/tests/unit/components/`

---

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-10-24 | 1.0 | Initial story creation | Bob (Scrum Master) |

---

## Dev Agent Record

*This section will be populated by the development agent during implementation*

### Agent Model Used

*To be filled by Dev Agent*

### Debug Log References

*To be filled by Dev Agent*

### Completion Notes

*To be filled by Dev Agent*

### File List

*To be filled by Dev Agent*

---

## QA Results

*To be filled by QA Agent after implementation review*
